<!DOCTYPE html>
<html lang="en">

<head>
    <title>Game</title>
    <style>
        html, body {
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
    </style>
    <posthtml-head-elements>
        <script src="./bundle.js"></script>
        <script src="./script.js"></script>
    </posthtml-head-elements>
</head>

<body>
<main></main>
<script>
    const redirect = sessionStorage.redirect;
    delete sessionStorage.redirect;
    if (redirect && redirect !== location.href) {
        history.replaceState(null, null, redirect);
    }

    function run(obj, i) {
        if (i > 5) {
            return;
        }
        const ref = obj[Object.keys(obj)[0]];
        ref.init
            ? ref.init({ node: document.querySelector('main') })
            : run(ref, ++i);
    }

    run(Elm, 0);

</script>

</body>

</html>
